<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸµ BGM ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
            padding: 50px;
            min-height: 100vh;
            margin: 0;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }
        h1 {
            font-size: 2.5em;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        .bgm-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .bgm-button {
            padding: 20px;
            border: none;
            border-radius: 15px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .bgm-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }
        .bgm-button.young-college {
            background: linear-gradient(45deg, #2196F3, #1976D2);
        }
        .bgm-button.falls-rode {
            background: linear-gradient(45deg, #FF9800, #F57C00);
        }
        .bgm-button.stop {
            background: linear-gradient(45deg, #f44336, #d32f2f);
        }
        .status {
            margin: 20px 0;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            font-family: monospace;
        }
        .controls {
            margin: 20px 0;
        }
        .volume-control {
            margin: 10px;
            display: inline-block;
        }
        .volume-control label {
            display: block;
            margin-bottom: 5px;
        }
        .volume-control input[type="range"] {
            width: 150px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸµ BGM ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸</h1>
        
        <div class="status" id="status">
            ìƒíƒœ: ì˜¤ë””ì˜¤ ì‹œìŠ¤í…œ ë¡œë”© ì¤‘...
        </div>
        
        <div class="bgm-buttons">
            <button class="bgm-button" onclick="playTitleBGM()">
                ğŸµ íƒ€ì´í‹€ BGM<br>
                <small>PUFF AND MAGIC DRAGON</small>
            </button>
            
            <button class="bgm-button young-college" onclick="playYoungCollegeBGM()">
                ğŸµ ì Šì€ ìŒì•… ëŒ€í•™<br>
                <small>A young music college</small>
            </button>
            
            <button class="bgm-button falls-rode" onclick="playFallsRodeBGM()">
                ğŸµ í­í¬ ê¸¸<br>
                <small>Falls rode</small>
            </button>
            
            <button class="bgm-button stop" onclick="stopBGM()">
                â¹ï¸ BGM ì¤‘ì§€
            </button>
        </div>
        
        <div class="controls">
            <div class="volume-control">
                <label>ğŸ”Š ë§ˆìŠ¤í„° ë³¼ë¥¨</label>
                <input type="range" min="0" max="1" step="0.1" value="0.7" 
                       onchange="setMasterVolume(this.value)">
                <span id="masterVolume">70%</span>
            </div>
            
            <div class="volume-control">
                <label>ğŸµ BGM ë³¼ë¥¨</label>
                <input type="range" min="0" max="1" step="0.1" value="0.5" 
                       onchange="setBGMVolume(this.value)">
                <span id="bgmVolume">50%</span>
            </div>
        </div>
        
        <div class="status" id="debug">
            ë””ë²„ê·¸ ì •ë³´ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤...
        </div>
    </div>

    <script src="audio-system.js"></script>
    <script>
        // ìƒíƒœ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        function updateStatus(message) {
            document.getElementById('status').textContent = 'ìƒíƒœ: ' + message;
        }
        
        function updateDebug(message) {
            document.getElementById('debug').textContent = 'ë””ë²„ê·¸: ' + message;
        }
        
        // ë³¼ë¥¨ í‘œì‹œ ì—…ë°ì´íŠ¸
        function updateVolumeDisplay() {
            if (audioSystem) {
                document.getElementById('masterVolume').textContent = 
                    Math.round(audioSystem.masterVolume * 100) + '%';
                document.getElementById('bgmVolume').textContent = 
                    Math.round(audioSystem.bgmVolume * 100) + '%';
            }
        }
        
        // ë§ˆìŠ¤í„° ë³¼ë¥¨ ì„¤ì •
        function setMasterVolume(value) {
            if (audioSystem) {
                audioSystem.setMasterVolume(value);
                updateVolumeDisplay();
            }
        }
        
        // BGM ë³¼ë¥¨ ì„¤ì •
        function setBGMVolume(value) {
            if (audioSystem) {
                audioSystem.setBGMVolume(value);
                updateVolumeDisplay();
            }
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì˜¤ë””ì˜¤ ì‹œìŠ¤í…œ ì´ˆê¸°í™”
        window.addEventListener('load', function() {
            updateStatus('í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ, ì˜¤ë””ì˜¤ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì¤‘...');
            
            if (typeof initAudioSystem === 'function') {
                initAudioSystem();
                updateStatus('ì˜¤ë””ì˜¤ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ!');
                
                // 2ì´ˆ í›„ ìë™ìœ¼ë¡œ íƒ€ì´í‹€ BGM ì¬ìƒ
                setTimeout(() => {
                    if (typeof playTitleBGM === 'function') {
                        playTitleBGM();
                        updateStatus('íƒ€ì´í‹€ BGM ìë™ ì¬ìƒ ì‹œì‘!');
                        updateDebug('PUFF AND MAGIC DRAGON.m4a ì¬ìƒ ì¤‘...');
                    } else {
                        updateStatus('playTitleBGM í•¨ìˆ˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                    }
                }, 2000);
                
                // ë³¼ë¥¨ í‘œì‹œ ì—…ë°ì´íŠ¸
                setInterval(updateVolumeDisplay, 1000);
                
            } else {
                updateStatus('initAudioSystem í•¨ìˆ˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
            }
        });
        
        // ì „ì—­ í•¨ìˆ˜ë“¤ ì¬ì •ì˜ (ìƒíƒœ ì—…ë°ì´íŠ¸ í¬í•¨)
        const originalPlayTitleBGM = window.playTitleBGM;
        window.playTitleBGM = function() {
            updateStatus('íƒ€ì´í‹€ BGM ì¬ìƒ ì‹œì‘!');
            updateDebug('PUFF AND MAGIC DRAGON.m4a');
            if (originalPlayTitleBGM) {
                originalPlayTitleBGM();
            }
        };
        
        const originalPlayYoungCollegeBGM = window.playYoungCollegeBGM;
        window.playYoungCollegeBGM = function() {
            updateStatus('ì Šì€ ìŒì•… ëŒ€í•™ BGM ì¬ìƒ ì‹œì‘!');
            updateDebug('A young music college.m4a');
            if (originalPlayYoungCollegeBGM) {
                originalPlayYoungCollegeBGM();
            }
        };
        
        const originalPlayFallsRodeBGM = window.playFallsRodeBGM;
        window.playFallsRodeBGM = function() {
            updateStatus('í­í¬ ê¸¸ BGM ì¬ìƒ ì‹œì‘!');
            updateDebug('Falls rode.m4a');
            if (originalPlayFallsRodeBGM) {
                originalPlayFallsRodeBGM();
            }
        };
        
        const originalStopBGM = window.stopBGM;
        window.stopBGM = function() {
            updateStatus('BGM ì¤‘ì§€ë¨');
            updateDebug('ëª¨ë“  BGMì´ ì¤‘ì§€ë˜ì—ˆìŠµë‹ˆë‹¤');
            if (originalStopBGM) {
                originalStopBGM();
            }
        };
    </script>
</body>
</html>
